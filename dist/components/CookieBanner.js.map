{"version":3,"file":"CookieBanner.js","names":["React","Fragment","useEffect","useState","injectIntl","intlShape","ensureConfig","AppContext","Cookies","messages","CookieBanner","_ref","intl","domain","window","location","hostname","replace","_useState","get","_useState2","_slicedToArray","showCookie","setShowCookie","onDismissCookie","set","createElement","className","formatMessage","href","type","onClick","contextType","propTypes","isRequired","defaultProps"],"sources":["../../src/components/CookieBanner.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { ensureConfig } from '@edx/frontend-platform';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport Cookies from 'js-cookie';\n\nimport messages from './CookieBanner.messages';\n\nensureConfig([\n  'LMS_BASE_URL',\n  'LOGO_TRADEMARK_URL',\n], 'Footer component');\n\nconst CookieBanner = ({ intl }) => {\n  const domain = window.location.hostname.replace('apps', '');\n\n  const [showCookie, setShowCookie] = useState(!!Cookies.get('cookieconsent_status', { domain }));\n\n  const onDismissCookie = () => {\n    Cookies.set('cookieconsent_status', 'dismiss', { domain });\n    setShowCookie(false);\n  };\n\n  return showCookie ? (\n    <div className=\"cookie-banner\">\n      <div className=\"content\">\n        {intl.formatMessage(messages['cookie.banner.content'])}\n        <a\n          className=\"learn-more-link\"\n          href=\"https://www.cookiesandyou.com/\"\n          aria-label={intl.formatMessage(messages['cookie.banner.content'])}\n        >\n          {' '}{intl.formatMessage(messages['cookie.banner.leran.more'])}\n        </a>\n      </div>\n      <button className=\"dismiss-button\" type=\"button\" onClick={onDismissCookie}>\n        { intl.formatMessage(messages['cookie.dismiss.button.label']) }\n      </button>\n    </div>\n  ) : <div />;\n};\n\nCookieBanner.contextType = AppContext;\n\nCookieBanner.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nCookieBanner.defaultProps = {};\n\nexport default injectIntl(CookieBanner);\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,UAAU,EAAEC,SAAS,QAAQ,6BAA6B;AACnE,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,UAAU,QAAQ,8BAA8B;AACzD,OAAOC,OAAO,MAAM,WAAW;AAE/B,OAAOC,QAAQ,MAAM,yBAAyB;AAE9CH,YAAY,CAAC,CACX,cAAc,EACd,oBAAoB,CACrB,EAAE,kBAAkB,CAAC;AAEtB,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAiB;EAAA,IAAXC,IAAI,GAAAD,IAAA,CAAJC,IAAI;EAC1B,IAAMC,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EAE3D,IAAAC,SAAA,GAAoCf,QAAQ,CAAC,CAAC,CAACK,OAAO,CAACW,GAAG,CAAC,sBAAsB,EAAE;MAAEN,MAAM,EAANA;IAAO,CAAC,CAAC,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAAxFI,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAEhC,IAAMI,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5BhB,OAAO,CAACiB,GAAG,CAAC,sBAAsB,EAAE,SAAS,EAAE;MAAEZ,MAAM,EAANA;IAAO,CAAC,CAAC;IAC1DU,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,OAAOD,UAAU,gBACftB,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC;EAAe,gBAC5B3B,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC;EAAS,GACrBf,IAAI,CAACgB,aAAa,CAACnB,QAAQ,CAAC,uBAAuB,CAAC,CAAC,eACtDT,KAAA,CAAA0B,aAAA;IACEC,SAAS,EAAC,iBAAiB;IAC3BE,IAAI,EAAC,gCAAgC;IACrC,cAAYjB,IAAI,CAACgB,aAAa,CAACnB,QAAQ,CAAC,uBAAuB,CAAC;EAAE,GAEjE,GAAG,EAAEG,IAAI,CAACgB,aAAa,CAACnB,QAAQ,CAAC,0BAA0B,CAAC,CAC5D,CACA,CAAC,eACNT,KAAA,CAAA0B,aAAA;IAAQC,SAAS,EAAC,gBAAgB;IAACG,IAAI,EAAC,QAAQ;IAACC,OAAO,EAAEP;EAAgB,GACtEZ,IAAI,CAACgB,aAAa,CAACnB,QAAQ,CAAC,6BAA6B,CAAC,CACtD,CACL,CAAC,gBACJT,KAAA,CAAA0B,aAAA,YAAM,CAAC;AACb,CAAC;AAEDhB,YAAY,CAACsB,WAAW,GAAGzB,UAAU;AAErCG,YAAY,CAACuB,SAAS,GAAG;EACvBrB,IAAI,EAAEP,SAAS,CAAC6B;AAClB,CAAC;AAEDxB,YAAY,CAACyB,YAAY,GAAG,CAAC,CAAC;AAE9B,eAAe/B,UAAU,CAACM,YAAY,CAAC"}